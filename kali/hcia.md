
```
操作系统是用户和计算机之间的接口
操作系统负责管理计算机系统的全部硬件
资源和控制软件的执行
改善人机界面
操作系统属于系统软件
主要功能 ：  1.处理器管理   对处理器资源进行管理  a 进程控制 b 进程同步 c 进程通信 d 进程调度
            2.存储器管理   为多道程序的运行提供料号的环境   a 内存分配 b 内存保护  c 内存扩充
            3.设备管理     完成I/O设备请求 ， 提高速度   a 缓冲管理  b 设备分配 c 虚拟设备   
            4.文件管理     将程序或者数据以文件的形式存放在磁盘上 
            5.作业管理
```
操作系统分为  桌面操作系统  服务器操作系统  嵌入式操作系统   
## windows操作系统 ：
#### 领域：个人办公  企业服务器 银行ATM 手机
## Linux 操作系统：

##  服务器 
#### 定义：广义上，服务是指网络中能够对其他机器提供服务的计算机系统<br>狭义上来讲，服务器是指某些高性能计算机，通过网络提供给外部计算机一些服务， 因此在稳定性，安全性，性能等方面都比普通的PC要高。 
#### 服务 包括：提供web应用，文件下载，数据库存储，打印，游戏等服务   
#### 特点：
```
可用性    ：持续不断的提供服务
可利用性  ：承载多用户访问
可扩展性  ：服务器的硬件可以扩张
可管理性  ：保证冗余，
支持多处理器处理 
```

#### 划分：
```
按应用层次 ： 入门级  工作组  部门级  企业级
按体系架构 ： 非X86   X86
按外形     : 机架式  刀片式 塔式  机柜式
按用途    ： 通用服务器（多功能）  功能服务器 
```

## 常见服务器软件
服务器软件工作在客户端-服务端（C/S）或浏览器-服务器（B/S）的方式，有很多形式服务器 包括
```
文件服务器（File Server）
数据库服务器(Database Server)
邮件服务器(Mail Server)
网页服务器(Web Server)
FTP服务器(FTP Server)
域名服务器(DNS Server)
时间同步服务器(NTP Server)
代理服务器(Proxy server)
```

## 服务器常见的安全威胁
```
恶意程序                    常见的有特洛伊木马，蠕虫，病毒等  
                            防御方法：不打开陌生网页链接软件等等 ，安装杀毒软件
黑客暴力破解                枚举法  
                           防御方法：密码足够复杂，修改默认端口，不允许密码登录 通过认证的密钥登陆

SQL注入攻击                 通过注入web表单 用于提升用户权限  
                           防御方法：通过正则把嗲是对传入的参数过滤。 用preparedStatement代替Statement ，jsp中调用函数检查是否包含非法字符
DDoS攻击                    分布式拒接服务攻击 DOS拒接服务   通过控制多台机器（僵尸主机）对一台服务器进行DOS攻击，
                            防御方法：源认证 ，指纹学习，重定向域名
```
## 漏洞

#### 漏洞产生的危害
```
权限绕过
权限提升
拒绝服务攻击  查询到系统性能差 或者是 查询到开放端口等等
数据泄露
执行非授权指令
```
#### 漏洞存在的原因
```
软件设计瑕疵
系统不当配置 例如打开不该打开的端口
安全意识薄弱
```

#### 漏洞扫描过程
1. 发现主机  ping扫描 2 。 进一步搜集信息 端口扫描，操作系统扫描探测  3.针对系统或者端口进行漏洞匹配 扫描

#### 常见扫描方式
```
端口扫描 ： 全连接扫描  syn扫描（半连接扫描）  隐蔽扫描（四次挥手通过FIN）
系统漏洞扫描：被动扫描  主动扫描（执行攻击脚本，漏洞库匹配360）
```
### 利用补丁进行漏洞修复 ，杀毒软件 ，关闭端口 ，提高安全意识

#### 防火墙特征
```
1 逻辑区域过滤器
2 隐藏内网网络结构
3 自身安全保障
4 主动防御攻击
```
#### 防火墙防御方式
```
包过滤防火墙      无法关联数据包之间的关系 ， 无法适应多通道协议  通常不检查应用层数据   （包过滤基本不存在）
代理防火墙        处理速度慢 升级困难 充当中间代理的位置
状态检测防火墙     处理后续包速度快 安全性高
```
#### 防火墙的组网方式
![1](http://a4.qpic.cn/psb?/V10RGgSt4cM7cR/gVZIrFKuZuqYzjveYeChG8*jI.Hldj8g*6xA0XYv6y0!/c/dL8AAAAAAAAA&ek=1&kp=1&pt=0&bo=*QRVAgAAAAADN7w!&tl=1&vuin=283738217&tm=1556784000&sce=60-2-2&rf=0-0)
```
单机防火墙  放在内网和外网之间  但是当防火墙出问题后 直接会影响内网与外网的通信
双机热备    在内网和外网中放入两个防火墙，当一个出现问题后，另外一个防火墙进行工作
```
#### 防火墙转发原理
包过滤技术  需要对转发的数据报文的头部信息进行提取，再通过提前订制的规则（安全策略）进行比较，通过比较结果选择对数据包进行转发或者丢弃 <br> 核心：访问控制列表
#### 防火墙的域间转发
![1](http://m.qpic.cn/psb?/V10RGgSt4cM7cR/laOMBPZCFR*WC.Sw8jZnEYodnPslbDWSPtLK03zXc1g!/b/dEkBAAAAAAAA&bo=lASQAgAAAAADByA!&rf=viewer_4)
首包进行包过滤规则 
后续包直接查找会话表
会话表包括 ：**源IP+源端口+目的IP+目的端口+协议+用户+应用**
#### ASPF技术   主要针对多通道应用
定义ASPF(Application Specific Packet Filter)是一种高级通信过滤 他检查应用层协议信息并且监控链接的应用层协议状态。<br>对于特定应用协议的所有连接，**每一个**连接状态信息都将被ASPF维护并用于**动态**的决定数据包是否被允许通过防火墙或者丢弃
#### Server Map表的产生
```
1.配置ASPF后转发FTP等等多通道协议时
2.配置ASPF后，转发QQ/MSDN，TFTP等STUN类型协议时生成的三元组Server-map
3.配置NAT服务器映射产生的静态SM表
4.配置NAT No-Pat时生产的动态SM表
```
#### 端口映射  
配置基本acl
```
[NGFW]acl 2000
[NGFW-acl-basic-2000]rule permit sorce 20.0.0.1 0
```
配置端口识别（端口映射）
```
port-mapping FTP port 31 acl 2000  #即将FTP服务的31端口映射为acl 2000 通过acl的配置可以看出2000是通过的 即 31端口可以通过
```
#### 分片缓存
适用于后续报文优先于头报文到达的情况，对于没有打开分片缓存的防火墙，如果后续报文先到达，则会被丢弃，而打开后，优先到达的报文会被临时存储在缓存中

#### 长连接
防止会话老化（例如FTP已经建立好了一个连接，但是长时间不进行上传或者下载文件，导致通道长时间空闲，等过段时间后再传输文件的话，可能会带来虽然已经建立了连接，但是仍然无法传输文件的情况），如果长时间不通信，会断开连接。
